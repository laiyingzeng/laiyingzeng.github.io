(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15df3d7f","chunk-491f976d"],{"40b6":function(t,i,s){t.exports=s.p+"img/bean_500.6732d3b0.png"},5726:function(t,i,s){t.exports=s.p+"img/give_up.c8c1c287.png"},"6b61":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[t.isExam?s("Exam",{on:{route:t.route}}):s("luckywheel",{on:{route:t.route}})],1)},n=[],a=s("2b9b"),o=s("b378"),r={name:"Main",components:{Exam:a["default"],luckywheel:o["default"]},data:function(){return{isExam:!0}},methods:{route:function(){this.isExam=!this.isExam}}},c=r,l=s("2877"),u=Object(l["a"])(c,e,n,!1,null,"41a39c4b",null);i["default"]=u.exports},7135:function(t,i,s){t.exports=s.p+"img/congratulation.cc989eb0.png"},"84cf":function(t,i,s){"use strict";var e=s("ef0c"),n=s.n(e);n.a},"8d2a":function(t,i,s){t.exports=s.p+"img/sorry.f97510ff.png"},b378:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"container"},[s("div",{staticClass:"lucky-wheel"},[s("div",{staticClass:"lucky-title"}),s("div",{staticClass:"wheel-main"},[s("div",{staticClass:"wheel-pointer",on:{click:function(i){return t.beginRotate()}}}),s("div",{staticClass:"wheel-bg",style:t.rotateStyle},[s("div",{staticClass:"prize-list"},t._l(t.prizeList,function(i,e){return s("div",{key:e,staticClass:"prize-item",style:i.style},[s("div",{staticClass:"prize-pic"},[s("img",{attrs:{src:i.icon}})]),s("div",{staticClass:"prize-type"},[t._v(t._s(i.name))])])}),0)])])]),s("div",{staticClass:"main"},[s("div",{staticClass:"main-bg"}),s("div",{staticClass:"bg-p"}),s("div",{staticClass:"content"},[s("div",{staticClass:"count"},[t._v("抽奖次数： "+t._s(t.count))])]),t._m(0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.prize,expression:"prize"}],staticClass:"toast"},[s("div",{staticClass:"toast-container"},[s("img",{staticClass:"toast-picture",attrs:{src:t.toastIcon}}),s("div",{staticClass:"close",on:{click:function(i){return t.closeToast()}}}),s("div",{staticClass:"toast-title"},[t._v(t._s(t.toastTitle))]),s("div",{staticClass:"toast-btn"},[s("div",{staticClass:"toast-cancel",on:{click:t.closeToast}},[t._v("关闭")])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.prize,expression:"prize"}],staticClass:"toast-mask"})])},n=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"tip"},[s("div",{staticClass:"tip-title"},[t._v("活动规则")]),s("div",{staticClass:"tip-content"},[s("p",[t._v("1.每日签到后，即可获得一次幸运大转盘的机会，仅限当天有效，过期作废。 2.金币抽奖，每10个金豆可兑换一次大转盘机会。")]),s("p",[t._v("2.金币抽奖，每10个金豆可以兑换一次大转盘抽奖机会")]),s("p",[t._v("3.所中金豆或积分到【我的账户】中查询。累计达到100金豆及以上，可以兑换相应奖品")])])])}],a=(s("ac6a"),s("7f7f"),[{icon:s("40b6"),name:"电影券",isPrize:1},{icon:s("5726"),name:"谢谢",isPrize:0},{icon:s("40b6"),name:"电影券",isPrize:1},{icon:s("5726"),name:"谢谢",isPrize:0},{icon:s("40b6"),name:"电影券",isPrize:1},{icon:s("5726"),name:"谢谢",isPrize:0},{icon:s("40b6"),name:"电影券",isPrize:1},{icon:s("5726"),name:"谢谢",isPrize:0}]),o=360,r={duration:4e3,circle:8,mode:"ease-in-out"},c={data:function(){return{duration:3e3,prizeList:[],rotateAngle:0,index:0,prize:null}},created:function(){this.angleList=[],this.isRotating=!1,this.config=r,this.initPrizeList()},computed:{rotateStyle:function(){return"\n        -webkit-transition: transform ".concat(this.config.duration,"ms ").concat(this.config.mode,";\n        transition: transform ").concat(this.config.duration,"ms ").concat(this.config.mode,";\n        -webkit-transform: rotate(").concat(this.rotateAngle,"deg);\n            transform: rotate(").concat(this.rotateAngle,"deg);")},toastTitle:function(){return this.prize&&1===this.prize.isPrize?"恭喜您，获得"+this.prize.name:"未中奖"},toastIcon:function(){return this.prize&&1===this.prize.isPrize?s("7135"):s("8d2a")},count:function(){return this.$store.state.luckyDrawCount}},methods:{initPrizeList:function(){this.prizeList=this.formatPrizeList(a)},formatPrizeList:function(t){var i=[],s=t.length,e=o/s,n=e/2;return t.forEach(function(t,s){var a=-(s*e+n);t.style="-webkit-transform: rotate(".concat(a,"deg);\n                      transform: rotate(").concat(a,"deg);"),i.push(s*e+n)}),this.angleList=i,t},beginRotate:function(){var t=this;0!==this.count?(this.index=this.random(this.prizeList.length-1),this.$store.commit("setLuckyDrawCount",this.$store.state.luckyDrawCount-1),this.rotating()):this.$dialog.alert({title:"提示",message:"去答题"}).then(function(){t.$router.back()})},random:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseInt(Math.random()*(t-i+1)+i)},rotating:function(){var t=this,i=this.isRotating,s=this.angleList,e=this.config,n=this.rotateAngle,a=this.index;if(!i){this.isRotating=!0;var r=n+e.circle*o+s[a]-n%o;this.rotateAngle=r,setTimeout(function(){t.rotateOver()},e.duration+1e3)}},rotateOver:function(){this.isRotating=!1,this.prize=a[this.index],console.log(this.prize,this.index)},closeToast:function(){this.prize=null}}},l=c,u=(s("84cf"),s("2877")),d=Object(u["a"])(l,e,n,!1,null,"96d6af8c",null);i["default"]=d.exports},ef0c:function(t,i,s){}}]);
//# sourceMappingURL=chunk-15df3d7f.b04c2e5e.js.map