{"version":3,"sources":["webpack:///./src/views/luckywheel/img/bean_500.png","webpack:///./src/views/luckywheel/img/give_up.png","webpack:///./src/views/main/Main.vue?4899","webpack:///src/views/main/Main.vue","webpack:///./src/views/main/Main.vue?7d55","webpack:///./src/views/main/Main.vue","webpack:///./src/views/luckywheel/img/congratulation.png","webpack:///./src/views/luckywheel/Luckywheel.vue?9d6d","webpack:///./src/views/luckywheel/img/sorry.png","webpack:///./src/views/luckywheel/Luckywheel.vue?48c3","webpack:///./src/views/luckywheel/config.js","webpack:///src/views/luckywheel/Luckywheel.vue","webpack:///./src/views/luckywheel/Luckywheel.vue?fea9","webpack:///./src/views/luckywheel/Luckywheel.vue?7f0f"],"names":["module","exports","__webpack_require__","p","render","_vm","this","_h","$createElement","_c","_self","on","route","staticRenderFns","Mainvue_type_script_lang_js_","name","components","Exam","luckywheel","Luckywheel","data","isExam","methods","main_Mainvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Luckywheel_vue_vue_type_style_index_0_id_96d6af8c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Luckywheel_vue_vue_type_style_index_0_id_96d6af8c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","staticClass","click","$event","beginRotate","style","_l","item","index","key","attrs","src","icon","_v","_s","count","_m","directives","rawName","value","expression","toastIcon","closeToast","toastTitle","prizeList","require","isPrize","CIRCLE_ANGLE","config","duration","circle","mode","Luckywheelvue_type_script_lang_js_","rotateAngle","prize","created","angleList","isRotating","initPrizeList","computed","rotateStyle","concat","$store","state","luckyDrawCount","formatPrizeList","list","l","length","average","half","forEach","i","angle","push","_this","random","commit","rotating","$dialog","alert","title","message","then","$router","back","max","min","arguments","undefined","parseInt","Math","_this2","setTimeout","rotateOver","console","log","luckywheel_Luckywheelvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-15df3d7f.b04c2e5e.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/bean_500.6732d3b0.png\";","module.exports = __webpack_public_path__ + \"img/give_up.c8c1c287.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isExam)?_c('Exam',{on:{\"route\":_vm.route}}):_c('luckywheel',{on:{\"route\":_vm.route}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Exam v-if=\"isExam\" @route='route'></Exam>\n    <luckywheel v-else @route='route'></luckywheel>\n  </div>\n</template>\n\n<script>\nimport Exam from '../exam/Exam.vue';\nimport luckywheel from '../luckywheel/Luckywheel.vue';\nexport default {\n  name: 'Main',\n  components: {\n    Exam,\n    luckywheel\n  },\n  data() {\n    return {\n      isExam: true\n    }\n  },\n  methods: {\n    route() {\n      this.isExam = !this.isExam\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=41a39c4b&scoped=true&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41a39c4b\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/congratulation.cc989eb0.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Luckywheel.vue?vue&type=style&index=0&id=96d6af8c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Luckywheel.vue?vue&type=style&index=0&id=96d6af8c&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/sorry.f97510ff.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"lucky-wheel\"},[_c('div',{staticClass:\"lucky-title\"}),_c('div',{staticClass:\"wheel-main\"},[_c('div',{staticClass:\"wheel-pointer\",on:{\"click\":function($event){return _vm.beginRotate()}}}),_c('div',{staticClass:\"wheel-bg\",style:(_vm.rotateStyle)},[_c('div',{staticClass:\"prize-list\"},_vm._l((_vm.prizeList),function(item,index){return _c('div',{key:index,staticClass:\"prize-item\",style:(item.style)},[_c('div',{staticClass:\"prize-pic\"},[_c('img',{attrs:{\"src\":item.icon}})]),_c('div',{staticClass:\"prize-type\"},[_vm._v(_vm._s(item.name))])])}),0)])])]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"main-bg\"}),_c('div',{staticClass:\"bg-p\"}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"count\"},[_vm._v(\"抽奖次数： \"+_vm._s(_vm.count))])]),_vm._m(0)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.prize),expression:\"prize\"}],staticClass:\"toast\"},[_c('div',{staticClass:\"toast-container\"},[_c('img',{staticClass:\"toast-picture\",attrs:{\"src\":_vm.toastIcon}}),_c('div',{staticClass:\"close\",on:{\"click\":function($event){return _vm.closeToast()}}}),_c('div',{staticClass:\"toast-title\"},[_vm._v(_vm._s(_vm.toastTitle))]),_c('div',{staticClass:\"toast-btn\"},[_c('div',{staticClass:\"toast-cancel\",on:{\"click\":_vm.closeToast}},[_vm._v(\"关闭\")])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.prize),expression:\"prize\"}],staticClass:\"toast-mask\"})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tip\"},[_c('div',{staticClass:\"tip-title\"},[_vm._v(\"活动规则\")]),_c('div',{staticClass:\"tip-content\"},[_c('p',[_vm._v(\"1.每日签到后，即可获得一次幸运大转盘的机会，仅限当天有效，过期作废。 2.金币抽奖，每10个金豆可兑换一次大转盘机会。\")]),_c('p',[_vm._v(\"2.金币抽奖，每10个金豆可以兑换一次大转盘抽奖机会\")]),_c('p',[_vm._v(\"3.所中金豆或积分到【我的账户】中查询。累计达到100金豆及以上，可以兑换相应奖品\")])])])}]\n\nexport { render, staticRenderFns }","export const prizeList = [\n  {\n    icon: require(\"./img/bean_500.png\"), // 奖品图片\n    name: \"电影券\", // 奖品名称\n    isPrize: 1 // 该奖项是否为奖品\n  },\n  {\n    icon: require(\"./img/give_up.png\"),\n    name: \"谢谢\",\n    isPrize: 0\n  },\n  {\n    icon: require(\"./img/bean_500.png\"), // 奖品图片\n    name: \"电影券\", // 奖品名称\n    isPrize: 1 // 该奖项是否为奖品\n  },\n  {\n    icon: require(\"./img/give_up.png\"),\n    name: \"谢谢\",\n    isPrize: 0\n  },\n  {\n    icon: require(\"./img/bean_500.png\"), // 奖品图片\n    name: \"电影券\", // 奖品名称\n    isPrize: 1 // 该奖项是否为奖品\n  },\n  {\n    icon: require(\"./img/give_up.png\"),\n    name: \"谢谢\",\n    isPrize: 0\n  },\n  {\n    icon: require(\"./img/bean_500.png\"), // 奖品图片\n    name: \"电影券\", // 奖品名称\n    isPrize: 1 // 该奖项是否为奖品\n  },\n  {\n    icon: require(\"./img/give_up.png\"),\n    name: \"谢谢\",\n    isPrize: 0\n  },\n  // {\n  //   icon: require(\"./img/bean_one.png\"),\n  //   name: \"奖品3\",\n  //   isPrize: 1\n  // },\n  // {\n  //   icon: require(\"./img/point_five.png\"),\n  //   name: \"奖品4\",\n  //   isPrize: 1\n  // },\n  // {\n  //   icon: require(\"./img/point_ten.png\"),\n  //   name: \"奖品5\",\n  //   isPrize: 1\n  // },\n  // {\n  //   icon: require(\"./img/bean_500.png\"),\n  //   name: \"奖品6\",\n  //   isPrize: 1\n  // },\n  // {\n  //   icon: require(\"./img/give_up.png\"),\n  //   name: \"谢谢\",\n  //   isPrize: 0\n  // },\n  // {\n  //   icon: require(\"./img/bean_500.png\"),\n  //   name: \"奖品8\",\n  //   isPrize: 1\n  // }\n]\n","<template>\n  <div class=\"container\">\n    <div class=\"lucky-wheel\">\n      <div class=\"lucky-title\"></div>\n      <div class=\"wheel-main\">\n        <div class=\"wheel-pointer\" @click=\"beginRotate()\"></div>\n        <div class=\"wheel-bg\" :style=\"rotateStyle\">\n          <div class=\"prize-list\">\n            <div\n              class=\"prize-item\"\n              v-for=\"(item,index) in prizeList\"\n              :key=\"index\"\n              :style=\"item.style\"\n            >\n              <div class=\"prize-pic\">\n                <img :src=\"item.icon\" />\n              </div>\n              <div class=\"prize-type\">{{item.name}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"main\">\n      <div class=\"main-bg\"></div>\n      <div class=\"bg-p\"></div>\n      <div class=\"content\">\n        <div class=\"count\">抽奖次数： {{ count}}</div>\n      </div>\n      <div class=\"tip\">\n        <div class=\"tip-title\">活动规则</div>\n        <div class=\"tip-content\">\n          <p>1.每日签到后，即可获得一次幸运大转盘的机会，仅限当天有效，过期作废。 2.金币抽奖，每10个金豆可兑换一次大转盘机会。</p>\n          <p>2.金币抽奖，每10个金豆可以兑换一次大转盘抽奖机会</p>\n          <p>3.所中金豆或积分到【我的账户】中查询。累计达到100金豆及以上，可以兑换相应奖品</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"toast\" v-show=\"prize\">\n      <div class=\"toast-container\">\n        <img :src=\"toastIcon\" class=\"toast-picture\" />\n        <div class=\"close\" @click=\"closeToast()\"></div>\n        <div class=\"toast-title\">{{toastTitle}}</div>\n        <div class=\"toast-btn\">\n          <div class=\"toast-cancel\" @click=\"closeToast\">关闭</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"toast-mask\" v-show=\"prize\"></div>\n  </div>\n</template>\n<script>\nimport { prizeList } from './config'\nconst CIRCLE_ANGLE = 360\n\nconst config = {\n  // 总旋转时间\n  duration: 4000,\n  // 旋转圈数\n  circle: 8,\n  mode: 'ease-in-out'\n}\n\nexport default {\n  data() {\n    return {\n      // count: 0, // 剩余抽奖次数\n      duration: 3000, // 转盘旋转时间\n      prizeList: [], // 奖品列表\n      rotateAngle: 0, // 旋转角度\n      index: 0,\n      prize: null\n    };\n  },\n  created() {\n    // 初始化一些值\n    this.angleList = []\n    // 是否正在旋转\n    this.isRotating = false\n    // 基本配置\n    this.config = config\n\n    // 获取奖品列表\n    this.initPrizeList();\n  },\n  computed: {\n    rotateStyle () {\n      return `\n        -webkit-transition: transform ${this.config.duration}ms ${this.config.mode};\n        transition: transform ${this.config.duration}ms ${this.config.mode};\n        -webkit-transform: rotate(${this.rotateAngle}deg);\n            transform: rotate(${this.rotateAngle}deg);`\n    },\n    toastTitle () {\n      return this.prize && this.prize.isPrize === 1\n        ? \"恭喜您，获得\" +\n            this.prize.name\n        : \"未中奖\";\n    },\n    toastIcon() {\n      return this.prize && this.prize.isPrize === 1\n        ? require(\"./img/congratulation.png\")\n        : require(\"./img/sorry.png\");\n    },\n    // 剩余抽奖次数\n    count() {\n      return this.$store.state.luckyDrawCount\n    }\n  },\n  methods: {\n    initPrizeList() {\n      // 这里可以发起请求，从服务端获取奖品列表\n      // 这里使用模拟数据\n\n      this.prizeList = this.formatPrizeList(prizeList)\n    },\n    // 格式化奖品列表，计算每个奖品的位置\n    formatPrizeList (list) {\n      // 记录每个奖的位置\n      const angleList = []\n\n      const l = list.length\n      // 计算单个奖项所占的角度\n      const average = CIRCLE_ANGLE / l\n\n      const half = average / 2\n\n      // 循环计算给每个奖项添加style属性\n      list.forEach((item, i) => {\n\n        // 每个奖项旋转的位置为 当前 i * 平均值 + 平均值 / 2\n        const angle = -((i * average) + half)\n        // 增加 style\n        item.style = `-webkit-transform: rotate(${angle}deg);\n                      transform: rotate(${angle}deg);`\n\n        // 记录每个奖项的角度范围\n        angleList.push((i * average) + half )\n      })\n\n      this.angleList = angleList\n\n      return list\n    },\n    beginRotate() {\n      // 添加次数校验\n\n      if(this.count === 0) {\n        this.$dialog.alert({\n          title: \"提示\",\n          message: \"去答题\"\n        }).then(() => {\n          // this.$emit('route')\n          this.$router.back()\n        })\n        return\n      }\n\n      // 开始抽奖\n      // 这里这里向服务端发起请求，得到要获得的奖\n      // 可以返回下标，也可以返回奖品 id，通过查询 奖品列表，最终得到下标\n\n      // 随机获取下标\n      this.index = this.random(this.prizeList.length - 1);\n\n      // 减少剩余抽奖次数\n      // this.count--\n      this.$store.commit('setLuckyDrawCount', this.$store.state.luckyDrawCount - 1)\n\n      // 开始旋转\n      this.rotating()\n    },\n    random (max, min = 0) {\n      return parseInt(Math.random() * (max - min + 1) + min)\n    },\n    rotating() {\n      const { isRotating, angleList, config, rotateAngle, index } = this\n\n      if (isRotating) return\n\n      this.isRotating = true\n\n      // 计算角度\n      const angle =\n          // 初始角度\n          rotateAngle +\n          // 多旋转的圈数\n          config.circle * CIRCLE_ANGLE +\n          // 奖项的角度\n          angleList[index] -\n          (rotateAngle % CIRCLE_ANGLE)\n\n\n        this.rotateAngle = angle\n\n        // 旋转结束后，允许再次触发\n        setTimeout(() => {\n\n          this.rotateOver()\n        }, config.duration + 1000)\n    },\n    rotateOver () {\n      this.isRotating = false\n\n      this.prize = prizeList[this.index]\n\n      console.log(this.prize, this.index)\n    },\n    //关闭弹窗\n    closeToast() {\n      this.prize = null;\n    }\n  }\n};\n</script>\n<style scoped>\n.container {\n  width: 100%;\n}\n.lucky-wheel {\n  width: 100%;\n  background: rgb(252, 207, 133) url(\"./img/color_pillar.png\") no-repeat\n    center bottom;\n  background-size: 100%;\n  padding-top: 40px;\n}\n.lucky-title {\n  width: 100%;\n  height: 8.125rem;\n  background: url(\"./img/lucky_title.png\") no-repeat center top;\n  background-size: 100%;\n}\n.wheel-main {\n  margin: 0 auto;\n  position: relative;\n  width: 567px;\n  height: 567px;\n}\n.wheel-bg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  background: url(\"./img/draw_wheel.png\") no-repeat center top;\n  background-size: 100%;\n  color: #fff;\n}\n.wheel-pointer {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 2;\n  width: 163px;\n  height: 163px;\n  background: url(\"./img/draw_btn.png\") no-repeat center top;\n  background-size: 100%;\n  transform: translate3d(-50%, -50%, 0);\n}\n.wheel-bg div {\n  text-align: center;\n}\n.prize-list {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.prize-list .prize-item {\n  position: absolute;\n  width: 183px;\n  height: 288px;\n  top: 0;\n  left: 50%;\n  margin-left: -91px;\n  transform-origin: 50% 100%;\n}\n\n.prize-pic img {\n  width: 4.0625rem;\n  height: 2.5rem;\n  margin-top: 1.5625rem;\n}\n.prize-count {\n  font-size: 0.875rem;\n}\n.prize-type {\n  font-size: 0.75rem;\n  font-weight: 600;\n  padding-top: 8px;\n}\n.main {\n  position: relative;\n  width: 100%;\n  min-height: 14.25rem;\n  background: rgb(243, 109, 86);\n  padding-bottom: 1.6875rem;\n}\n.main-bg {\n  width: 100%;\n  height: 6.5625rem;\n  position: absolute;\n  top: -3.4375rem;\n  left: 0;\n  background: url(\"./img/luck_bg.png\") no-repeat center top;\n  background-size: 100%;\n}\n.bg-p {\n  width: 100%;\n  height: 2.95rem;\n  background: rgb(252, 207, 133);\n}\n.content {\n  position: absolute;\n  top: 0.175rem;\n  left: 0;\n  background: rgb(243, 109, 86);\n  width: 100%;\n  height: 5.1875rem;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #ffeb39;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.content div {\n  text-align: left;\n}\n.tip {\n  position: relative;\n  margin: 2.5rem auto 0;\n  width: 17.5rem;\n  border: 2px solid #fbc27f;\n}\n.tip-title {\n  position: absolute;\n  top: -1rem;\n  left: 50%;\n  transform: translate(-50%, 0);\n  font-size: 1rem;\n  font-weight: 600;\n  color: #fccc6e;\n  background: rgb(243, 109, 86);\n  padding: 0.3125rem 0.625rem;\n}\n.tip-content {\n  padding: 1.5625rem 0.625rem;\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #fff8c5;\n  line-height: 1.5;\n}\n.toast-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 10000;\n  width: 100%;\n  height: 100%;\n}\n.toast {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  z-index: 20000;\n  transform: translate(-50%, -50%);\n  width: 15.4375rem;\n  background: #fff;\n  border-radius: 0.3125rem;\n  padding: 0.3125rem;\n  background-color: rgb(252, 244, 224);\n}\n.toast-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: 2px dotted #fccc6e;\n}\n.toast-picture {\n  position: absolute;\n  top: -6.5rem;\n  left: -1.5rem;\n  width: 18.75rem;\n  height: 8.5625rem;\n}\n.toast-pictrue-change {\n  position: absolute;\n  top: -1.5rem;\n  left: -1.375rem;\n  width: 17.5rem;\n  height: 3.125rem;\n}\n.toast-title {\n  padding: 2.8125rem 0;\n  font-size: 35px;\n  color: #fc7939;\n  text-align: center;\n}\n.toast-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 0.9375rem;\n}\n.toast-btn div {\n  background-image: -moz-linear-gradient(\n    -18deg,\n    rgb(242, 148, 85) 0%,\n    rgb(252, 124, 88) 51%,\n    rgb(252, 124, 88) 99%\n  );\n\n  background-image: -ms-linear-gradient(\n    -18deg,\n    rgb(242, 148, 85) 0%,\n    rgb(252, 124, 88) 51%,\n    rgb(252, 124, 88) 99%\n  );\n  background-image: -webkit-linear-gradient(\n    -18deg,\n    rgb(242, 148, 85) 0%,\n    rgb(252, 124, 88) 51%,\n    rgb(252, 124, 88) 99%\n  );\n  box-shadow: 0px 7.7px 0px 0px rgba(174, 34, 5, 0.7);\n  width: 4.6875rem;\n  height: 1.875rem;\n  border-radius: 1.875rem;\n  text-align: center;\n  line-height: 1.875rem;\n  color: #fff;\n}\n.close {\n  position: absolute;\n  top: -0.9375rem;\n  right: -0.9375rem;\n  width: 2rem;\n  height: 2rem;\n  background: url(\"./img/close_store.png\") no-repeat center top;\n  background-size: 100%;\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Luckywheel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Luckywheel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Luckywheel.vue?vue&type=template&id=96d6af8c&scoped=true&\"\nimport script from \"./Luckywheel.vue?vue&type=script&lang=js&\"\nexport * from \"./Luckywheel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Luckywheel.vue?vue&type=style&index=0&id=96d6af8c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"96d6af8c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}